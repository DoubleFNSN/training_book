# 4.R

R: How to make professional and beautiful plots

## 1) lnstall R and Rstudio

**R:** [https://www.r-project.org/](https://www.r-project.org/)

**RStudio:** [https://www.rstudio.com/](https://www.rstudio.com/)


## 2) Reference card for data analysis

* [Basics](https://cran.r-project.org/doc/contrib/Short-refcard.pdf)
* [Statistics](http://www.u.arizona.edu/~kuchi/Courses/MAT167/Files/R-refcard.pdf)
* [Data mining](https://cran.r-project.org/doc/contrib/YanchangZhao-refcard-data-mining.pdf)

## 3) R Packages

**How to install R Packages:**

```R
> install.packages("PACKAGE")

# using bioconductor.org
> source("https://bioconductor.org/biocLite.R")
> biocLite("PACKAGE")
```

**Common used packages**

* To load data:

> * **RMySQL:** read in data from a database or Excel.
> * **xlsx:** read in data from a Excel.

* To manipulate data:

> * **stringr:** easy to learn tools for regular expressions and character strings.
> * **reshape2:** transform data between wide and long formats.

* To visualize data:

> * **gplots:** heatmap.2
> * **ggplot2:** plotting system for R, based on the grammar of graphics
> * **plotly:** R package for creating interactive web-based graphs

* To model data:

> * **lme4, nlme:** Linear and Non-linear mixed effects models
> * **randomForest:** Random forest methods from machine learning
> * **glmnet:** Lasso and elastic-net regression methods with cross validation
> * **NMF:** do non-negative matrix factorization

* To do bioinformatics:

> * **limma, DESeq2, edgeR:** do differential expression: [link](https://www.nature.com/articles/nprot.2013.099%29)
> * **survival:** Tools for survival analysis
> * **motifRG, MotIV, MotifDb:** motif search and enrichment
> * **enrichR:** GO term enrichment

* To write your own R packages:

> * **devtools:** An essential suite of tools for turning your code into an R package.

* To color your figure:

> * **colorbrewer:** Creates nice looking color palettes especially for thematic maps [http://colorbrewer2.org/](http://colorbrewer2.org/)


## 4) Data Visualizations

See [Plot with R](https://lulab.gitbooks.io/teaching/content/appendix/appendix.plots.html)



## Homework

* create one heatmap using function "heatmap.2" in package "gplots" \([https://www.rdocumentation.org/packages/gplots/versions/3.0.1/topics/heatmap.2\](https://www.rdocumentation.org/packages/gplots/versions/3.0.1/topics/heatmap.2%29%29\) or package "pheatmap" \([https://github.com/raivokolde/pheatmap](https://github.com/raivokolde/pheatmap%29%29\)

download link: [Week\_2\_files/homework/plotHeatmap.zip](https://github.com/lulab/training/blob/master/assets/files/plotHeatmap.zip)

* create your own plots using other packages, like **plotly**\([https://plot.ly/r/](https://plot.ly/r/%29%29\), **ggvis**\([http://ggvis.rstudio.com/](http://ggvis.rstudio.com/%29%29\)

download link: [Week\_2\_files/homework/plotHeatmap.zip](https://github.com/lulab/training/blob/master/assets/files/plotHeatmap.zip)




## 6) Video

### a.Basics

@Youtube

{% embed data="{\"url\":\"https://youtu.be/A0YKZgxvpXM\",\"type\":\"video\",\"title\":\"Week 2 Bash Github and R 4 R\",\"icon\":{\"type\":\"icon\",\"url\":\"https://www.youtube.com/yts/img/favicon\_144-vfliLAfaB.png\",\"width\":144,\"height\":144,\"aspectRatio\":1},\"thumbnail\":{\"type\":\"thumbnail\",\"url\":\"https://i.ytimg.com/vi/A0YKZgxvpXM/mqdefault.jpg\",\"width\":320,\"height\":180,\"aspectRatio\":0.5625},\"embed\":{\"type\":\"player\",\"url\":\"https://www.youtube.com/embed/A0YKZgxvpXM?rel=0&showinfo=0\",\"html\":\"<div style=\\\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.2493%;\\\"><iframe src=\\\"https://www.youtube.com/embed/A0YKZgxvpXM?rel=0&amp;showinfo=0\\\" style=\\\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\\\" allowfullscreen scrolling=\\\"no\\\"></iframe></div>\",\"aspectRatio\":1.7778}}" %}

@Bilibili

{% embed data="{\"url\":\"https://player.bilibili.com/player.html?aid=30590474&cid=53392848&page=1\",\"type\":\"link\",\"title\":\"bilibili html5 player\"}" %}

### b.Advanced (by Yang Li)

@Youtube

{% embed data="{\"url\":\"https://youtu.be/HeIAZ3pgsxQ\",\"type\":\"video\",\"title\":\"Week 2 Bash Github and R bash and R Li\",\"icon\":{\"type\":\"icon\",\"url\":\"https://www.youtube.com/yts/img/favicon\_144-vfliLAfaB.png\",\"width\":144,\"height\":144,\"aspectRatio\":1},\"thumbnail\":{\"type\":\"thumbnail\",\"url\":\"https://i.ytimg.com/vi/HeIAZ3pgsxQ/hqdefault.jpg\",\"width\":480,\"height\":360,\"aspectRatio\":0.75},\"embed\":{\"type\":\"player\",\"url\":\"https://www.youtube.com/embed/HeIAZ3pgsxQ?rel=0&showinfo=0\",\"html\":\"<div style=\\\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 75.0019%;\\\"><iframe src=\\\"https://www.youtube.com/embed/HeIAZ3pgsxQ?rel=0&amp;showinfo=0\\\" style=\\\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\\\" allowfullscreen scrolling=\\\"no\\\"></iframe></div>\",\"aspectRatio\":1.3333}}" %}

@Bilibili

{% embed data="{\"url\":\"https://player.bilibili.com/player.html?aid=30625984&cid=53458279&page=1\",\"type\":\"link\",\"title\":\"bilibili html5 player\"}" %}


## 7) References

[http://sape.inf.usi.ch/quick-reference/ggplot2](http://sape.inf.usi.ch/quick-reference/ggplot2)

[http://tutorials.iq.harvard.edu/R/Rgraphics/Rgraphics.html](http://tutorials.iq.harvard.edu/R/Rgraphics/Rgraphics.html)

[https://www.analyticsvidhya.com/blog/2015/07/guide-data-visualization-r/](https://www.analyticsvidhya.com/blog/2015/07/guide-data-visualization-r/)

# 4.R

How to make professional and beautiful plots

> **Tips:**
>
> Do things with multiple ways
>
> Efficient Writing: Bash &gt; R &gt; Perl/Python &gt; Excel &gt; C,C++

## 1）install R

```text
yum -y install epel-release
yum -y install R
```

* How to quit?

`q()`

* How to get help?

`?t.test`

## 2）Examples

#### Example I. t test

sh\# R

```r
x<-read.table("foo1")
y<-read.table("foo2")
t.test(x,y,alternative=c("less") )

x=x[,1]
y=y[,1]
t.test(x,y,altrenative=c("less"),paired=TRUE)
```

or write these into a file, script.R, then run  
`R CMD BATCH script.R`

#### Example II. heatmap

```r
require("gplots")
# open an image file
png("sample_heatmap.R.png",width=2048,height=2048)
m <- matrix(runif(n=30*30, min=-1.0, max=1.0), ncol=30)
mn <- -1
mx <- 1
n <- 98        # the color steps, 98 color levels.
density.info <- "none"    # whether to display density in the key
bias <- 1    # parameter for colorRampPalette. 1 is what I used
mc <- matrix(as.character(round(m, 2)), ncol=dim(m)[2])     # the note on the matrix
breaks <- seq(mn, mx, (mx-mn)/(n))
cr <- colorRampPalette(colors = c("#2927FF","#FFFFFF","#DF5C5C"), bias=bias)
heatmap.2(m, col = cr(n), breaks=breaks, trace="none", cellnote=mc, notecol="black",
notecex=1.800000, keysize=0.500000, density.info=density.info, margins=c(27.000000,27.000000),
cexRow=2.200000, cexCol=2.200000)
dev.off()
```

## 3）More Readings and Practices

* [**Teaching Video**](../getting-startted.md#learning-materials)：Week II. 4. R
* **for Beginners** 

阅读和练习[Quick R](https://www.statmethods.net/) 如下章节 :

> Learning R  
> R Interface  
> Data Input  
> Statistics

* **for Advanced Readers** 

a\) 阅读和练习[Quick R](https://www.statmethods.net/) 如下章节 :

> Learning R  
> R Interface  
> Data Input  
> Statistics
>
> ...

b\) Bioinformatics Data Skills

> 8\) A Rapid Introduction to the R Language
>
> 9\) Working with Range Data

3\) [**More R Examples at Github**](https://github.com/urluzhi/scripts/tree/master/Rscript)

## 4）Homework

学习和完成这里面的作业：[Additional Tutorial](../getting-startted.md#learning-materials) : R \([Teaching Video](../getting-startted.md#learning-materials)：Week II. Bash and R -- Shared by Li\)

## 5\) Video

5a\) R

@Youtube

{% embed data="{\"url\":\"https://youtu.be/A0YKZgxvpXM\",\"type\":\"video\",\"title\":\"Week 2 Bash Github and R 4 R\",\"icon\":{\"type\":\"icon\",\"url\":\"https://www.youtube.com/yts/img/favicon\_144-vfliLAfaB.png\",\"width\":144,\"height\":144,\"aspectRatio\":1},\"thumbnail\":{\"type\":\"thumbnail\",\"url\":\"https://i.ytimg.com/vi/A0YKZgxvpXM/mqdefault.jpg\",\"width\":320,\"height\":180,\"aspectRatio\":0.5625},\"embed\":{\"type\":\"player\",\"url\":\"https://www.youtube.com/embed/A0YKZgxvpXM?rel=0&showinfo=0\",\"html\":\"<div style=\\\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.2493%;\\\"><iframe src=\\\"https://www.youtube.com/embed/A0YKZgxvpXM?rel=0&amp;showinfo=0\\\" style=\\\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\\\" allowfullscreen scrolling=\\\"no\\\"></iframe></div>\",\"aspectRatio\":1.7778}}" %}

@Bilibili

{% embed data="{\"url\":\"https://player.bilibili.com/player.html?aid=30590474&cid=53392848&page=1\",\"type\":\"link\",\"title\":\"bilibili html5 player\"}" %}

5b\) Bash and R Li

@Youtube

{% embed data="{\"url\":\"https://youtu.be/HeIAZ3pgsxQ\",\"type\":\"video\",\"title\":\"Week 2 Bash Github and R bash and R Li\",\"icon\":{\"type\":\"icon\",\"url\":\"https://www.youtube.com/yts/img/favicon\_144-vfliLAfaB.png\",\"width\":144,\"height\":144,\"aspectRatio\":1},\"thumbnail\":{\"type\":\"thumbnail\",\"url\":\"https://i.ytimg.com/vi/HeIAZ3pgsxQ/hqdefault.jpg\",\"width\":480,\"height\":360,\"aspectRatio\":0.75},\"embed\":{\"type\":\"player\",\"url\":\"https://www.youtube.com/embed/HeIAZ3pgsxQ?rel=0&showinfo=0\",\"html\":\"<div style=\\\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 75.0019%;\\\"><iframe src=\\\"https://www.youtube.com/embed/HeIAZ3pgsxQ?rel=0&amp;showinfo=0\\\" style=\\\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\\\" allowfullscreen scrolling=\\\"no\\\"></iframe></div>\",\"aspectRatio\":1.3333}}" %}

@Bilibili

{% embed data="{\"url\":\"https://player.bilibili.com/player.html?aid=30625984&cid=53458279&page=1\",\"type\":\"link\",\"title\":\"bilibili html5 player\"}" %}

